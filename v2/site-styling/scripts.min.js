let INTERNAL_SYSTEM_PATH="https://internal.glacier.eco",currentUserLanguage=window.CONF?.preload?.currentUser?.currentUser?.lang||window?.CONF?.preload?.currentUser?.clients?.[0]?.defaultLanguage,languageWatcherActive=!1; function watchNestedProperty(e,t,a){let n=e[t];Object.defineProperty(e,t,{get:function(){return n},set:function(e){n=e,a(e)},configurable:!0})} function getCookie(e,t){for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var r=a[n].trim();if(r.startsWith(e+"=")){if(!t)return!0;return decodeURIComponent(r.substring(e.length+1))}}return null} function showLoading(){let e=document.getElementById("customAlertBox");e&&(e.style.display="block")} function hideLoading(){let e=document.getElementById("customAlertBox");e&&(e.style.display="none")} function updateMessage(e){let t=document.getElementById("customAlertBox");t&&(t.textContent=e)} function updatePageHeader(){if(!(window.location.href.includes("/redeem")||window.location.href.includes("/register"))){var e=getCookie("authTokenExpires"),t=document.querySelector(".container");if(window.location.href.includes("/learn/course/")&&(t=document.querySelector(".course__container")),!document.querySelector(".refresh-validator-header")&&t){var a=window.CONF?.preload?.currentUser?.currentUser?.firstName+" "+window.CONF.preload?.currentUser?.currentUser?.lastName,n=window.CONF.preload.currentUser.allocatedLicenses.length>1,r="";window.location.href.includes("/learn/dashboard")?r="dashboard":window.location.href.includes("learn/license")?r="licence":window.location.href.includes("pages/download-hub")?r="downloadhub":window.location.href.includes("/learn/account?tab=dashboard.account")&&(r="account");var l=document.createElement("header");return l.className="py-4 bg-ocean refresh-validator-header nav-root",l.innerHTML=` <nav id="dropdown-button-mobile" class="nav-main" style="font-weight: lighter !important" > <div class="flex-shrink-0"> <a href="${e?"/learn/dashboard":"/"}" title="Glacier Home" class="flex"> <img class="w-auto h-20 py-3 flex" src="https://glacier-projects.vercel.app/img/brand/logos/03_glacier_climate_academy/glacier_logo_climateacademy_1C_white.png" alt="Glacier Logo" /> </a> </div> <div class="lg:flex lg:items-center lg:ml-auto lg:space-x-10"> ${n?`<a href="/learn/license" title="Program" class="hidden lg:inline-flex natural-text natural-text-lg items-center text-white transition-all duration-200 hover:text-spring-dark gap-3" > <svg width="24" height="24" viewBox="0 0 46 49" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" > <path fill-rule="evenodd" clip-rule="evenodd" d="M43 26.3H25C24.0611 26.3 23.3 27.0611 23.3 28V46C23.3 46.9389 24.0611 47.7 25 47.7H43C43.9389 47.7 44.7 46.9389 44.7 46V28C44.7 27.0611 43.9389 26.3 43 26.3ZM21 1.3H9C8.06112 1.3 7.3 2.06112 7.3 3V15C7.3 15.9389 8.06112 16.7 9 16.7H21C21.9389 16.7 22.7 15.9389 22.7 15V3C22.7 2.06112 21.9389 1.3 21 1.3ZM10 30.3H3C2.06112 30.3 1.3 31.0611 1.3 32V39C1.3 39.9389 2.06112 40.7 3 40.7H10C10.9389 40.7 11.7 39.9389 11.7 39V32C11.7 31.0611 10.9389 30.3 10 30.3ZM6 3C6 1.34315 7.34315 0 9 0H21C22.6569 0 24 1.34315 24 3V15C24 16.6569 22.6569 18 21 18H9C7.34315 18 6 16.6569 6 15V3ZM22 28C22 26.3431 23.3431 25 25 25H43C44.6569 25 46 26.3431 46 28V46C46 47.6569 44.6569 49 43 49H25C23.3431 49 22 47.6569 22 46V28ZM3 29C1.34315 29 0 30.3431 0 32V39C0 40.6569 1.34315 42 3 42H10C11.6569 42 13 40.6569 13 39V32C13 30.3431 11.6569 29 10 29H3Z"/></svg> <span class="${"licence"===r?"nav-list-active":""}"> <span lang="de">Programm w\xe4hlen</span> <span lang="en">Select Program</span> </span> </a>`:""} <a href="${e?"/learn/dashboard":"/learn/sign_in"}" title="${e?"Dashboard":"Sign In"}" class="${e?"lg:inline-flex":""} hidden natural-text natural-text-lg items-center text-white transition-all duration-200 hover:text-spring-dark gap-3" > <svg width="24" height="24" viewBox="0 0 46 49" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" > <path fill-rule="evenodd" clip-rule="evenodd" d="M43 26.3H25C24.0611 26.3 23.3 27.0611 23.3 28V46C23.3 46.9389 24.0611 47.7 25 47.7H43C43.9389 47.7 44.7 46.9389 44.7 46V28C44.7 27.0611 43.9389 26.3 43 26.3ZM21 1.3H9C8.06112 1.3 7.3 2.06112 7.3 3V15C7.3 15.9389 8.06112 16.7 9 16.7H21C21.9389 16.7 22.7 15.9389 22.7 15V3C22.7 2.06112 21.9389 1.3 21 1.3ZM10 30.3H3C2.06112 30.3 1.3 31.0611 1.3 32V39C1.3 39.9389 2.06112 40.7 3 40.7H10C10.9389 40.7 11.7 39.9389 11.7 39V32C11.7 31.0611 10.9389 30.3 10 30.3ZM6 3C6 1.34315 7.34315 0 9 0H21C22.6569 0 24 1.34315 24 3V15C24 16.6569 22.6569 18 21 18H9C7.34315 18 6 16.6569 6 15V3ZM22 28C22 26.3431 23.3431 25 25 25H43C44.6569 25 46 26.3431 46 28V46C46 47.6569 44.6569 49 43 49H25C23.3431 49 22 47.6569 22 46V28ZM3 29C1.34315 29 0 30.3431 0 32V39C0 40.6569 1.34315 42 3 42H10C11.6569 42 13 40.6569 13 39V32C13 30.3431 11.6569 29 10 29H3Z"/> </svg> <span class="${"dashboard"===r?"nav-list-active":""}"> ${e?"Dashboard":"Sign In"} </span> </a> ${e?` <a href="/pages/download-hub" title="Download Hub" class="hidden lg:inline-flex natural-text natural-text-lg items-center text-white transition-all duration-200 hover:text-spring-dark gap-3 ${"downloadhub"===r?"font-medium":""}" > <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0_206_48)"> <path d="M16.5 0.5C16.5 0.225 16.275 0 16 0C15.725 0 15.5 0.225 15.5 0.5V22.2938L8.35625 15.1438C8.1625 14.95 7.84375 14.95 7.65 15.1438C7.45625 15.3375 7.45625 15.6562 7.65 15.85L15.65 23.85C15.8438 24.0438 16.1625 24.0438 16.3563 23.85L24.3563 15.85C24.55 15.6562 24.55 15.3375 24.3563 15.1438C24.1625 14.95 23.8438 14.95 23.65 15.1438L16.5 22.2938V0.5ZM8.9625 20H4C1.79375 20 0 21.7938 0 24V28C0 30.2062 1.79375 32 4 32H28C30.2062 32 32 30.2062 32 28V24C32 21.7938 30.2062 20 28 20H23.0375L22.0375 21H28C29.6562 21 31 22.3438 31 24V28C31 29.6562 29.6562 31 28 31H4C2.34375 31 1 29.6562 1 28V24C1 22.3438 2.34375 21 4 21H9.9625L8.9625 20ZM27 27C26.7348 27 26.4804 26.8946 26.2929 26.7071C26.1054 26.5196 26 26.2652 26 26C26 25.7348 26.1054 25.4804 26.2929 25.2929C26.4804 25.1054 26.7348 25 27 25C27.2652 25 27.5196 25.1054 27.7071 25.2929C27.8946 25.4804 28 25.7348 28 26C28 26.2652 27.8946 26.5196 27.7071 26.7071C27.5196 26.8946 27.2652 27 27 27ZM25 26C25 26.5304 25.2107 27.0391 25.5858 27.4142C25.9609 27.7893 26.4696 28 27 28C27.5304 28 28.0391 27.7893 28.4142 27.4142C28.7893 27.0391 29 26.5304 29 26C29 25.4696 28.7893 24.9609 28.4142 24.5858C28.0391 24.2107 27.5304 24 27 24C26.4696 24 25.9609 24.2107 25.5858 24.5858C25.2107 24.9609 25 25.4696 25 26Z" fill="currentColor"/> </g> <defs> <clipPath id="clip0_206_48"> <rect width="32" height="32" fill="currentColor"/> </clipPath> </defs> </svg> <span class="${"downloadhub"===r?"nav-list-active":""}"> Download Hub </span> </a> `:""} ${e&&a?` <div id="accordion-nav-menu" class="relative" > <a onClick="toggleAccordion('nav-menu')" type="button" class="natural-text natural-text-lg hidden lg:inline-flex items-center text-white transition-all duration-200 hover:text-spring-dark gap-3 cursor-pointer ${"account"===r?"font-medium":""}" type="button" > <span class="${"account"===r?"nav-list-active":""}"> ${a} </span> <svg width="20px" height="20px" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" > <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" ></path> </svg> </a> <div style="top: 40px; width: 140%; margin-left: -50px;" class="bg-white divide-y divide-gray-100 rounded shadow-lg absolute w-44 left-0 z-10 hidden lg:inline-flex accordion-content accordion-hidden" > <ul class="py-2 text-md no-bullets" style="width: 100%;" > <li class="block lg:hidden hover:bg-spring py-2 pl-2"> <a class='w-full block' href="/learn/dashboard"> <span class="px-4 text-ocean natural-text natural-text-lg">Dashboard</span> </a> </li> <li class="hover:bg-spring py-2 pl-2"> <a class='w-full block' href="/support"> <span class="px-4 text-ocean natural-text natural-text-lg">Support</span> </a> </li> <li class="hover:bg-spring py-2 pl-2"> <a class='w-full block' href="/learn/account?tab=dashboard.account_profile"> <span lang="de" class="px-4 text-ocean natural-text natural-text-lg">Mein Konto</span> <span lang="en" class="px-4 text-ocean natural-text natural-text-lg">My Account</span> </a> </li> <li class="hover:bg-spring py-2 pl-2"> <a class='w-full block' href="/learn/sign_out"> <span lang="de" class="px-4 text-ocean natural-text natural-text-lg">Abmelden</span> <span lang="en" class="px-4 text-ocean natural-text natural-text-lg">Sign out</span> </a> </li> </ul> </div> </div> <a onClick="toggleAccordion('nav-menu-mobile', this)" type="button" class="natural-text natural-text-lg flex lg:hidden items-center text-white transition-all duration-200 gap-3 cursor-pointer" > <svg class="accordion-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M24.6666 15C25.2189 15 25.6666 15.4477 25.6666 16C25.6666 16.5063 25.2904 16.9247 24.8023 16.9909L24.6666 17H7.33331C6.78103 17 6.33331 16.5523 6.33331 16C6.33331 15.4937 6.70952 15.0753 7.19762 15.0091L7.33331 15H24.6666Z" fill="white"/> <path d="M24.6666 20.3333C25.2189 20.3333 25.6666 20.781 25.6666 21.3333C25.6666 21.8396 25.2904 22.258 24.8023 22.3242L24.6666 22.3333H7.33331C6.78103 22.3333 6.33331 21.8856 6.33331 21.3333C6.33331 20.8271 6.70952 20.4087 7.19762 20.3425L7.33331 20.3333H24.6666Z" fill="white"/> <path d="M24.6666 9.66666C25.2189 9.66666 25.6666 10.1144 25.6666 10.6667C25.6666 11.1729 25.2904 11.5913 24.8023 11.6575L24.6666 11.6667H7.33331C6.78103 11.6667 6.33331 11.2189 6.33331 10.6667C6.33331 10.1604 6.70952 9.74201 7.19762 9.67579L7.33331 9.66666H24.6666Z" fill="white"/> </svg> <svg class="accordion-icon hidden" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M9.95958 9.95956C10.3146 9.60454 10.8702 9.57226 11.2616 9.86274L11.3738 9.95956L22.0405 20.6262C22.431 21.0168 22.431 21.6499 22.0405 22.0404C21.6854 22.3955 21.1299 22.4277 20.7384 22.1373L20.6262 22.0404L9.95958 11.3738C9.56906 10.9832 9.56906 10.3501 9.95958 9.95956Z" fill="white"/> <path d="M20.6262 9.95956C21.0168 9.56904 21.6499 9.56904 22.0405 9.95956C22.3955 10.3146 22.4278 10.8701 22.1373 11.2616L22.0405 11.3738L11.3738 22.0404C10.9833 22.431 10.3501 22.431 9.95958 22.0404C9.60456 21.6854 9.57228 21.1299 9.86276 20.7384L9.95958 20.6262L20.6262 9.95956Z" fill="white"/> </svg> </a> `:""} </div> <div id="accordion-nav-menu-mobile" class="bg-white divide-y divide-gray-100 shadow absolute left-0 z-10 block lg:hidden nav-menu-mobile" > <ul class="pt-8 pb-8 px-4 text-md no-bullets flex flex-col gap-5 accordion-content accordion-hidden" > ${n?`<li class="px-4 block lg:hidden"> <a href="/learn/license" class="text-ocean natural-text natural-text-lg ${"licence"===r?"nav-menu-mobile-active":""}" > <span lang="de">Programm w\xe4hlen</span> <span lang="en">Select Program</span> </a> </li>`:""} <li class="px-4 block lg:hidden"> <a href="/learn/dashboard" class="text-ocean natural-text natural-text-lg ${"dashboard"===r?"nav-menu-mobile-active":""}" > <span lang="de">Dashboard</span> <span lang="en">Dashboard</span> </a> </li> <li class="px-4 block"> <a href="/support" class="text-ocean natural-text natural-text-lg ${"support"===r?"nav-menu-mobile-active":""}" > <span lang="de">Support</span> <span lang="en">Support</span> </a> </li> <li class="px-4 block"> <a href="/learn/account?tab=dashboard.account_profile" class="text-ocean natural-text natural-text-lg ${"account"===r?"nav-menu-mobile-active":""}" > <span lang="de">Mein Konto</span> <span lang="en">My Account</span> </a> </li> <li class="px-4 block"> <a href="/learn/sign_out" class="text-ocean natural-text natural-text-lg" > <span lang="de">Abmelden</span> <span lang="en">Sign out</span> </a> </li> </ul> </div> </nav> `,t.prepend(l),document.addEventListener("click",function(e){let t=document.getElementById("accordion-nav-menu"),a=t.querySelector(".accordion-content");if(a&&a.style.maxHeight&&"0px"!==a.style.maxHeight&&""!==a.style.maxHeight){let n=t.contains(e.target);n||toggleAccordion("nav-menu")}}),!0}}} function triggerScrollIntoView(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})} function scrollToModuleCatalogOnFilter(){let e=window.location.search,t=new URLSearchParams(e);t.has("labels")&&triggerScrollIntoView("custom-module-catalog")} function embedWistiaVideo(e){let t=document.getElementById("lxp-intro-video");if(t){var a=` <iframe src="https://fast.wistia.net/embed/iframe/${e}" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="100%"> </iframe>`;t.innerHTML=a}} async function dashboardUsageBasedTransformations(){let e=window.CONF?.preload?.currentUser?.currentUser?.firstName,t=await checkForCertificate(),a=document.getElementById("banner-pretitle"),n=document.getElementById("banner-title"),r=document.getElementById("banner-description"),l=document.getElementById("banner-button");if(!a||!n||!r||!l)return;switch(!0){case 2===t:"de"===currentUserLanguage?(a.textContent="HERZLICHEN GL\xdcCKWUNSCH, CLIMATE RANGER!",n.textContent="Hi"+(e?" "+e:"")+"!",r.textContent="Gratuliere, du hast alle Klimaschutz-Module erfolgreich abschlossen! Dein offizielles Zertifikat wartet auf dich.",l.textContent="Hol' dir dein Zertifikat"):(a.textContent="CONGRATULATIONS, CLIMATE RANGER!",n.textContent="Hi"+(e?" "+e:"")+"!",r.textContent="You have successfully completed all the climate action modules! Your official certificate is awaiting you.",l.textContent="Get your certificate"),l.onclick=function(){triggerScrollIntoView("certificate-section")};break;case 1===t:"de"===currentUserLanguage?(a.textContent="SETZE DEINE LERNREISE FORT!",n.textContent="Hi"+(e?" "+e:"")+"!",r.textContent="W\xe4hle dein n\xe4chstes Lernmodul and erweitere deine Klimaschutz-Kompetenzen.",l.textContent="Weiter geht's"):(a.textContent="CONTINUE YOUR LEARNING JOURNEY!",n.textContent="Hi"+(e?" "+e:"")+"!",r.textContent="Discover the next module and take your climate competences to the next level.",l.textContent="Let's continue"),l.style.display="none";break;default:"de"===currentUserLanguage?(a.textContent="LERNE DIE PLATTFORM KENNEN",n.textContent="Willkommen"+(e?" "+e:"")+"!",r.textContent="Das erste Mal hier? Dann schau dir doch das kurze Erkl\xe4rungsvideo an, das wir f\xfcr dich vorbereitet haben.",l.textContent=`Zum Einf\xfchrungsvideo`):(a.textContent="GET TO KNOW THE PLATFORM",n.textContent="Welcome"+(e?" "+e:"")+"!",r.textContent="First time around? Then check out our short explanation video we prepared for you!",l.textContent="Watch Intro Video"),l.onclick=function(){triggerScrollIntoView("dashboard-experience")}}let i=document.getElementById("learning-progress-section"),s=document.querySelector("ul.dashboard-access-tabs"),o=s?.querySelectorAll("li")?.length;o&&0!==o||(await new Promise(e=>setTimeout(e,2e3)),o=(s=document.querySelector("ul.dashboard-access-tabs"))?.querySelectorAll("li")?.length),o>0?(console.log("User has active courses."),i.classList.remove("hidden")):console.log("User has no active courses.")} function generateCetificateSuspense(e,t){let a={complete:{en:"Congratulations!",de:"Herzlichen Gl\xfcckwunsch!"},pending:{en:"Your Certificate Awaits!",de:"Dein Zertifikat wartet auf dich!"}},n={complete:{en:"Receive your certificate now, share your achievements and your newly acquired knowledge.",de:"Erhalte dein Zertifikat, teile deinen Erfolg und dein neu erlangtes Wissen."},pending:{en:"Complete all modules and receive your official Certificate for the Glacier Climate Essentials.",de:"Schlie\xdfe alle Module ab und erhalte dein offizielles Zertifikat f\xfcr die Glacier Climate Essentials."}},r=t?.image;return r=r&&r.startsWith("/img/")?INTERNAL_SYSTEM_PATH+r.replace(".webp","_base.jpeg"):r?r.replace(".webp","_base.jpeg"):"https://res.cloudinary.com/df1dbnp0x/image/upload/v1692944345/img/certificate/certificate-blank_base.jpg",` <div id="certificate-section" class="mx-auto max-width-1200 der-flex-8p"> <h3 class="display-text display-text-semibold display-text-xl sm:display-text-lg"> <span lang="en">${a[e].en}</span> <span lang="de">${a[e].de}</span> </h3> <p class="natural-text natural-text-md"> <span lang="en">${n[e].en}</span> <span lang="de">${n[e].de}</span> </p> </div> <div class="custom-section"> ${"complete"===e?` <div class="certificate-container certificate-complete" style="background-image: url('${r}');"> <a href="/pages/glacier-certification?learnerId=${t.learnerId} " target="_blank" rel="noopener noreferrer"> <div class="certificate-text"> <div class="certificate-centered-content"> <p class="certificate-learner-name" style="color: ${t.fontColor}"> ${t.learnerName} </p> </div> <div class="certificate-download-text">Download</div> </div> </a> </div> `:` <div class="certificate-container certificate-greyscale-filter" style="background-image: url('${r}');"> <div class="certificate-text"> <div class="certificate-centered-content"> <p class="certificate-learner-name" style="color: ${t.fontColor}"> ${t.learnerName} </p> </div> <div class="certificate-download-text">Download</div> </div> </div>`} </div> `} async function checkForCertificate(){let e=document.getElementById("certificate-validate-container"),t=new URLSearchParams(window.location.search),a=t.get("forceUserId"),n=a||window.CONF.preload.currentUser.currentUser.id;if(e&&n)try{let r=window.CONF.preload.currentUser.currentUser.activeLicense,l=window.CONF.preload.currentUser.clients[0].primaryLicense.id;r||(r=window.CONF.preload.currentUser.allocatedLicenses[0].license.id),r===l&&(r=void 0);let i=await fetch(`${INTERNAL_SYSTEM_PATH}/api/lxp/user/${n}/certificates?lang=${currentUserLanguage}`+(r?`&subLicenseId=${r}`:"")),s=await i.json();if(s&&s.certificationData){let o=s.certificationData.dataProps.visualProp,c=o.hideName?"":s.certificationData.dataProps.learnerName;o.learnerName=c,o.learnerId=n,o.fontColor=o.fontColor||"#FFFFFF";let d=generateCetificateSuspense("complete",o);return e.innerHTML=d,2}if(!(s&&s.completionData&&s.completionData.displayProps?.image))return console.log("No certificate data found."),0;{let u=s.completionData.displayProps,p=u.hideName?"":s.completionData.learnerName;u.learnerName=p,u.fontColor=u.fontColor||"#FFFFFF";let g=generateCetificateSuspense("pending",u);if(e.innerHTML=g,e.classList.add("force-full-width"),e.classList.add("custom-section-top-full"),"not_started"!==s.completionData.userStatus)return 1;return 0}}catch(m){console.log(m)}} function showLoading(){let e=document.getElementById("customAlertBox");e&&(e.style.display="block")} function hideLoading(){let e=document.getElementById("customAlertBox");e&&(e.style.display="none")} function updateMessage(e){let t=document.getElementById("customAlertBox");t&&(t.textContent=e)} function applyStylesForHasPsuedoClass(){let e=window.CSS&&CSS.supports&&CSS.supports("selector(:has(*))");if(!e){let t=document.querySelectorAll(".bg-glacier-greengoo");t.forEach(e=>{let t=e.parentElement;t.style.background='linear-gradient(0deg, rgba(0, 0, 0, 0.20) 0%, rgba(0, 0, 0, 0.20) 100%), url("https://glacier-projects.vercel.app/img/brand/backgrounds/background-nature-2.jpeg"), lightgray 50% / cover no-repeat',t.style.backgroundSize="cover",t.style.backgroundPosition="center"});let a=document.querySelectorAll(".bg-glacier-blue-haze");a.forEach(e=>{let t=e.parentElement;t.style.background='linear-gradient(0deg, rgba(0, 0, 0, 0.20) 0%, rgba(0, 0, 0, 0.20) 100%), url("https://res.cloudinary.com/df1dbnp0x/image/upload/v1702445650/img/brand/banner/Climate-Academy_Hero_g5rg7c.jpg"), lightgray 50% / cover no-repeat',t.style.backgroundSize="cover",t.style.backgroundPosition="center"});let n=document.querySelectorAll(".bg-ocean-full");n.forEach(e=>{let t=e.parentElement;t.style.backgroundColor="var(--Ocean)"});let r=document.querySelectorAll(".dashboard-access-list-item-expander");r.forEach(e=>{e.addEventListener("click", async function(){await new Promise(e=>setTimeout(e,800)),applyStylesForHasPsuedoClass()})});let l=window.innerWidth;if(l>=1024){let i=document.querySelectorAll(".dashboard-access-list-item-expansion .columns");i.forEach(e=>{e.querySelector("img")&&(e.style.width="15%"),e.querySelector(".dashboard-access-list-item__description")&&(e.style.width="85%")});let s=document.querySelectorAll(".dashboard-access-list-item-expansion .row .columns");s.forEach(e=>{e.querySelector(".dashboard-access-list-item__description")&&(e.style.display="grid",e.style.gridTemplateColumns="3fr 2fr 1fr",e.style.gap="28px")})}else if(l>=768){let o=document.querySelectorAll(".dashboard-access-list-item-expansion .columns");o.forEach(e=>{e.querySelector("img")&&(e.style.width="auto"),e.querySelector(".dashboard-access-list-item__description")&&(e.style.width="75%")});let c=document.querySelectorAll(".dashboard-access-list-item-expansion .row .columns");c.forEach(e=>{e.querySelector(".dashboard-access-list-item__description")&&(e.style.display="grid",e.style.gridTemplateColumns="3fr 2fr",e.style.gap="28px")})}}} function courseInformationPageModifier(){let e=window.location.pathname.split("/")[1];if("courses"===e){let t=document.querySelector(".course__detail__container");if(!t)return;let a=document.querySelector(".course__detail__container .course__detail__content h1"),n=document.querySelector(".course__detail__container .course__detail__sidebar .btn.btn--primary"),r=document.createElement("div");if(r.classList.add("course-information-header"),r.classList.add("column"),r.classList.add("custom-section-top"),a&&(a.classList.remove("h2"),a.classList.add("display-text"),a.classList.add("display-text-xl"),a.classList.add("sm:display-text-lg"),a.classList.add("display-text-semibold"),r.appendChild(a)),n){n.classList.remove("btn--alt"),n.classList.remove("btn--expand");let l=n.cloneNode(!0);r.appendChild(n);let i=document.createElement("div");i.classList.add("mobile-footer-nav-bar"),i.appendChild(l),t.appendChild(i)}t.insertBefore(r,t.firstChild)}} function toggleAccordion(e,t){let a=document.getElementById(`accordion-${e}`);if(!a){console.log(`accordion-${e} not found`);return}let n=a.querySelector(".accordion-content"),r=[];r=t?t.querySelectorAll(".accordion-icon"):a.querySelectorAll(".accordion-icon"),"0px"===n.style.maxHeight||""===n.style.maxHeight?(n.classList.remove("accordion-hidden"),n.style.maxHeight=n.scrollHeight+10+"px",r.forEach(e=>e.classList.toggle("hidden"))):(n.style.maxHeight="0px",setTimeout(()=>{n.classList.add("accordion-hidden")},300),r.forEach(e=>e.classList.toggle("hidden")))} function alertBannerCloser(){let e=document.querySelector(".alert-box.success");e&&e.remove()} function performAccountsPageTransformations(){console.log("performing accounts page transformations");let e=document.getElementById("account-section-0");if(e){let t=e.querySelector("input#lastname"),a=t.closest("form"),n=a.querySelector("button"),r=n.querySelector("span");if(r)return;let l=`<span lang="de">\xc4nderungen speichern</span><span lang="en">Save changes</span>`,i=n.querySelector("script"),s=i.nextElementSibling;for(;i.nextSibling!==s;)n.removeChild(i.nextSibling);s.insertAdjacentHTML("beforebegin",l)}let o=document.getElementById("account-section-1");if(o){let c=o.querySelector("input#email");c.setAttribute("placeholder","de"===currentUserLanguage?"Neue E-Mail-Adresse":"New E-Mail-Address");let d=c.closest("form"),u=d.querySelector("button"),p=u.querySelector("span");if(p)return;let g=`<span lang="de">E-Mail Adresse \xe4ndern</span><span lang="en">Change email address</span>`,m=u.querySelector("script"),_=m.nextElementSibling;for(;m.nextSibling!==_;)u.removeChild(m.nextSibling);_.insertAdjacentHTML("beforebegin",g);let h=o.querySelectorAll('input[type="password"]');h.forEach(e=>{e.setAttribute("placeholder","de"===currentUserLanguage?"Best\xe4tige mit deinem Passwort":"Confirm with your password")})}} function accountsPageModifiers(){window.location.href.includes("/learn/account")&&performAccountsPageTransformations()} function coursePageSidebarHideHandler(){let e=document.querySelector(".learner__container--toggled");if(e&&window.matchMedia("(max-width: 768px)").matches){let t=document.querySelector(".learner__container__toggle button");t&&t.click()}} function coursePageModifiers(){window.location.href.includes("/learn/course")&&coursePageSidebarHideHandler()} function watchLanguageChange(){if(window.CONF?.preload?.currentUser.currentUser.lang&&!languageWatcherActive)watchNestedProperty(window.CONF.preload.currentUser.currentUser,"lang",e=>{console.log("Language watcher changed to:",e);let t=document.getElementById("lang-stylesheet-de").sheet,a=document.getElementById("lang-stylesheet-en").sheet;t&&a&&("de"===e?(t.disabled=!1,a.disabled=!0):(t.disabled=!0,a.disabled=!1))}),languageWatcherActive=!0;else if(!window.CONF?.preload?.currentUser.currentUser.lang){console.log("Language static changed to:",currentUserLanguage);let e=document.getElementById("lang-stylesheet-de").sheet,t=document.getElementById("lang-stylesheet-en").sheet;"de"===currentUserLanguage?(e.disabled=!1,t.disabled=!0):(e.disabled=!0,t.disabled=!1)}} function showUnderConstructionPage(){let e=window.CONF?.preload?.currentUser?.currentUser?.email;e&&(!e||e.includes("@glacier.eco"))||window.location.href.includes("/pages/maintenance-mode")||(window.location.href="/pages/maintenance-mode")} function iframeActivatePostMessage(){document.addEventListener("DOMContentLoaded",function(){window.addEventListener("message",function(e){if("requestUserId"===e.data){let t=document.querySelector(".sco--iframe");if(t){let a=t.contentWindow,n={userId:window.CONF.preload.currentUser.currentUser.id,course:window.location.pathname};a.postMessage(n,"*")}}})})} async function addOpenInNewTabButtonForPDF(e){e&&await new Promise(t=>setTimeout(t,e));let t=document.getElementById("pdf-viewer"),a=document.getElementById("pdf-open-in-new-tab");if(t&&!a){t.style.height="500px";let n=t.getAttribute("src"),r=document.createElement("a");r.setAttribute("id","pdf-open-in-new-tab"),r.classList.add("btn"),r.classList.add("btn--secondary"),r.classList.add("btn--fitcontent"),r.classList.add("mt-4"),r.setAttribute("href",n),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener noreferrer"),r.innerHTML=` <span lang="de">Dokument in neuem Tab \xf6ffnen</span> <span lang="en">Open document in new tab</span> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16.9498 7.04999L7.0498 16.95" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M10 7L16.95 7.049L17 14" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> `,t.insertAdjacentElement("afterend",r)}} async function resizeIframe(e){setInterval(async()=>{e.style.height=e.contentWindow.document.documentElement.scrollHeight+"px"},1e3)} function checkIfEmailConfirmationVisit(){var e=new URL(window.location.href);if(e.searchParams.has("confirm-email")){var t=document.querySelector(".session__form");if(t){var a=t.querySelector("h2"),n=t.querySelector("p"),r=t.querySelector('input[type="submit"]');e.searchParams.has("de")?(a.innerHTML="Bitte best\xe4tige deine E-Mail-Adresse",n.innerHTML="Gib deine E-Mail-Adresse unten ein und wir senden dir einen Link, um dein Passwort zu setzen.",r.setAttribute("value","Best\xe4tigen")):(a.innerHTML="Please confirm your email address",n.innerHTML="Enter your email below and we will send you a link to set your password.",r.setAttribute("value","Confirm"))}}} function updateSignInPageLayout(){var e=document.querySelector(".session");if(!(!e||e.classList.contains("refresh-validator"))){e.classList.add("refresh-validator");var t="https://glacier-projects.vercel.app/img/brand/logos/01_glacier_logo/horizontal/glacier_logo_horizontal_1C_white.png",a="2rem";switch(!0){case window.location.hostname.includes("a1-"):t="https://res.cloudinary.com/df1dbnp0x/image/upload/v1692944343/img/clients/logos/a1_small.png",a="5rem";break;case window.location.hostname.includes("firstclimate"):t="https://res.cloudinary.com/df1dbnp0x/image/upload/v1692944343/img/clients/logos/firstClimate_wide.png",a="2.5rem";break;case window.location.href.includes("generali-sme-entreprise"):t="https://res.cloudinary.com/df1dbnp0x/image/upload/v1693311948/img/clients/logos/sme_enterprize_wide.png",a="3rem"}var n=document.createElement("footer");n.className="py-6",n.innerHTML=` <div class="px-6 mx-auto sm:px-8 lg:px-12 max-w-7xl"> <div class="grid items-center grid-cols-1 gap-x-8 gap-y-10 md:grid-cols-3"> <div class="md:order-1"> <img class="w-auto" src="${t}" alt="Logo" style="height: ${a}" /> </div> <div class="md:order-3"> <div class="flex items-center justify-end space-x-6 text-sm"> <a href="https://glacier.eco/impressum" title="Impressum" class="text-white" > Impressum </a> </div> </div> <div class="col-span-2 md:col-span-1 md:order-2 pangia-text-force"> <div class="flex items-center text-white justify-center sm:justify-between md:justify-center space-x-9 lg:space-x-16  text-sm" > Do you need help? &nbsp; <a href="/support" title="Support" class="text-white" > Support </a> </div> </div> </div> </div>`,e.appendChild(n)}} function changeGermanTextsOnPref(){var e=document.querySelector(".session__form h2");if(e&&"Passwort zur\xfccksetzen"===e.innerText){var t=document.querySelector(".session__form p");if("Please enter your new password below."===t.innerHTML){t.innerHTML="Bitte erstelle dein neues Passwort.";var a=document.querySelector('input[placeholder="New Password"]');a&&a.setAttribute("placeholder","Neues Passwort");var n=document.querySelector('label[for="password"]');n&&(n.firstChild.data="Neues Passwort");var r=document.querySelector('input[placeholder="Confirm New Password"]');r&&r.setAttribute("placeholder","Neues Passwort best\xe4tigen");var l=document.querySelector('label[for="password-confirm"]');l&&(l.firstChild.data="Neues Passwort best\xe4tigen")}}} function authPageModifiers(){if(window.location.href.includes("/learn/sign_in")||window.location.href.includes("/learn/sign_out")||window.location.href.includes("/learn/register")||window.location.href.includes("/learn/redeem")||window.location.href.includes("/learn/reset_password")||window.location.href.includes("/learn/forgot"))return console.log("auth page"),checkIfEmailConfirmationVisit(),updateSignInPageLayout(),changeGermanTextsOnPref(),!0} function trackCodeRedemptions(){console.log("tracking code redemptions");let e=document.querySelector(".widget--redemption-form .btn.btn--primary.btn--expand");e.addEventListener("click", async function(){let e=window.location.search,t=new URLSearchParams(e),a=document.querySelector('input[placeholder="E-Mail-Adresse"]');a||(a=document.querySelector('input[placeholder="Email Address"]'));let n={email:a?.value||"unknown",...Object.fromEntries(t)};await fetch("https://glacier-projects.vercel.app/api/webhook/lxp_redeem",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json","x-api-key":"glacier-projects"},body:JSON.stringify(n)})})} function performRedemptionPageTransformations(){console.log("performing redemption page transformations");let e=document.querySelector(".footer");e&&e.remove();let t=document.querySelector(".container"),a=document.querySelector(".session");if(t&&!a){t.classList.add("session");let n=document.querySelector(".home__content");n&&(n.style.display="flex",n.style.minHeight="93vh");let r=document.querySelector(".widget--redemption-form");if(r){let l=r.querySelector("div");l.classList.add("session__container"),l.style.padding="3rem 2rem",l.style.margin="0 auto";let i=l.querySelector("div");i.innerHTML=` <h2 class="h2 widget__title"> <span lang="de">Registrieren</span> <span lang="en">Register</span> </h2>`;let s=document.createElement("div");s.classList.add("company__beta-logo"),l.prepend(s);let o=l.querySelector(".already-member");o&&o.remove();let c=l.querySelector(".widget__subtitle");c&&c.remove();let d=l.querySelector("hr");d&&d.remove();let u=l.querySelectorAll(".medium-6");u.forEach(e=>{e.classList.remove("medium-6"),e.classList.remove("small-6"),e.style.maxWidth="600px",e.style.padding="0 2rem"});let p=l.querySelectorAll(".row.collapse");p.forEach(e=>{(e.innerText.includes("Add Another Code")||e.innerText.includes("Weiteren Code hinzuf\xfcgen"))&&e.remove()});let g=l.querySelectorAll(".small-6.name-input");g.forEach(e=>{e.classList.remove("small-6"),e.classList.remove("name-input")});let m=l.querySelector(".medium-4.columns.text-right").parentNode,_=m.querySelector(".medium-8");_.style.width="100%",_.style.marginBottom="1rem",_.style.marginTop="1rem";let h=m.querySelector(".medium-4");h.style.width="100%",h.style.marginBottom="1.5rem",h.style.marginTop="1rem";let f=h.querySelector("button");f.style.maxWidth="200px",f.style.margin="auto";let $=document.createElement("div");$.style.width="100%",$.innerHTML=` <p style="text-align: center;"> <span lang="de">Bereits Mitglied? </span> <span lang="en">Already a member? </span> <a href="/learn/sign_in" class="btn btn--link btn--inherit-font underline"> <span>Login</span> </a> </p>`,m.append($);let y=l.querySelectorAll("input[type=text], input[type=email], input[type=password]");y.forEach(e=>{let t=e.getAttribute("placeholder");"Password Confirmation"===t&&(t="Confirm Password"),"Passwortbest\xe4tigung"===t&&(t="Passwort best\xe4tigen"),e.setAttribute("placeholder",t+"*")})}}} async function performDelayedTransformations(){console.log("performing delayed transformations");let e=document.querySelectorAll(".row.collapse"),t=null;for(;!t;)await new Promise(e=>setTimeout(e,500)),(e=document.querySelectorAll(".row.collapse")).forEach(e=>{if(e.innerText.includes("Validate")||e.innerText.includes("\xdcberpr\xfcfen")){t=e;let a=t.querySelector(".medium-8");a&&(a.classList.remove("medium-8"),a.classList.add("medium-10"));let n=t.querySelector(".medium-4");n&&(n.classList.remove("medium-4"),n.classList.add("medium-2"));let r=t.querySelectorAll("input[type=text], input[type=email], input[type=password]");r.forEach(e=>{let t=e.getAttribute("placeholder");"Den Code hier eingeben"===t?t="Registrierungscode":"Enter Code Here"===t&&(t="Enter Registration Code Here"),e.setAttribute("placeholder",t+"*")});let l=t.querySelector("button");l.style.height="1.5rem",l.style.marginTop="0.5rem",l.style.padding="0",l.style.fontSize=".7rem",l.style.textTransform="uppercase"}})} function redeemPageModifiers(){if(window.location.href.includes("/redeem"))return console.log("redeem page"),trackCodeRedemptions(),performRedemptionPageTransformations(),performDelayedTransformations(),!0} async function performRegistrationPageTransformations(){console.log("performing registration page transformations");let e=document.querySelector(".widget--registration-form"),t,a=Date.now();for(;!e&&Date.now()-a<3e3;)await new Promise(e=>{t=setTimeout(e,100)}),e=document.querySelector(".widget--registration-form");clearTimeout(t);let n=document.querySelector(".footer");n&&n.remove();let r=document.querySelector(".container"),l=document.querySelector(".session");if(r&&!l){r.classList.add("session");let i=document.querySelector(".home__content");if(i&&(i.style.display="flex",i.style.minHeight="93vh"),e){let s=e.querySelector("div");s.classList.add("session__container"),s.style.padding="3rem 2rem",s.style.margin="0 auto";let o=s.querySelector(".text-centered");o&&o.remove();let c=document.createElement("div");c.classList.add("company__beta-logo"),s.prepend(c);let d=s.querySelectorAll(".small-6.columns");d.forEach(e=>{e.classList.remove("small-6")});let u=s.querySelector(".small-offset-3"),p=u.parentNode;u.classList.remove("small-offset-3"),u.classList.remove("small-6"),u.style.maxWidth="600px",u.style.padding="0 2rem",p.style.margin="auto";let g=s.querySelector(".row"),m=(g=(g=g.querySelector(".row")).querySelectorAll(".row"))[1],_=m.querySelector(".medium-8");_.style.width="100%",_.style.marginBottom="1rem",_.style.marginTop="1rem";let h=m.querySelector(".medium-4");h.style.width="100%",h.style.marginBottom="1.5rem",h.style.marginTop="1rem";let f=h.querySelector("button");f.style.maxWidth="200px",f.style.margin="auto";let $=document.createElement("div");$.style.width="100%",$.innerHTML=` <p style="text-align: center;"> <span lang="de">Bereits Mitglied? </span> <span lang="en">Already a member? </span> <a href="/learn/sign_in" class="btn btn--link btn--inherit-font underline"> <span>Login</span> </a> </p>`,m.append($);let y=s.querySelectorAll("input[type=text], input[type=email], input[type=password]");y.forEach(e=>{let t=e.getAttribute("placeholder");"Password Confirmation"===t&&(t="Confirm Password"),"Passwortbest\xe4tigung"===t&&(t="Passwort best\xe4tigen"),e.setAttribute("placeholder",t+"*")})}}} function registerPageModifiers(){window.location.href.includes("/register")&&(console.log("register page"),performRegistrationPageTransformations())}